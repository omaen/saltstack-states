{{ salt['pillar.get']('salt:managed_file_header', '# This file is managed by Salt') }}

{%- set indent = 4 %}

{%- for item in config recursive %}
{%- if item is mapping %}
{%- set outer_loop = loop %}
{%- for key, value in item.iteritems() %}
{{ key|indent(outer_loop.depth0 * indent, true) }} {
{{- outer_loop(value) }}
{%- if loop.last %}
{{ '};'|indent(outer_loop.depth0 * indent, true) }}
{%- endif %}
{%- endfor %}
{%- else %}
{{ item|indent(loop.depth0 * indent, true) }};
{%- endif %}
{%- endfor %}
