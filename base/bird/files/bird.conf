{{ salt['pillar.get']('salt:managed_file_header', '# This file is managed by Salt') }}

{%- set indent = 4 %}
{%- for k, v in config.items() recursive %}

{%- if v is mapping %}
{{ k|indent(loop.depth0 * indent, true) }} {
{{- loop(v.items()) }}
{{ '};'|indent(loop.depth0 * indent, true) }}

{%- elif v is iterable and v is not string %}
{%- for i in v %}
{{ k|indent(loop.depth * indent, true) }} {{ i }};
{%- endfor %}

{%- else %}
{%- if v is none %}
{{ k|indent(loop.depth0 * indent, true) }};
{%- else %}
{{ k|indent(loop.depth0 * indent, true) }} {{ v }};
{%- endif %}
{%- endif %}

{%- endfor %}
